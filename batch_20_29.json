[
    {
        "index": 20,
        "content": "# migration/migrate_data.py\nimport json\nimport psycopg2\nfrom datetime import datetime\n\ndef migrate_json_to_postgres():\n    # Load existing JSON data\n    with open('../data/expenses.json', 'r') as f:\n        expenses = json.load(f)\n    \n    # Connect to PostgreSQL\n    conn = psycopg2.connect(\n        host=\"localhost\",\n        database=\"expensetracker\",\n        user=\"your_user\",\n        password=\"your_password\"\n    )\n    cur = conn.cursor()\n    \n    for expense in expenses:\n        cur.execute(\"\"\"\n            INSERT INTO transactions (id, user_id, category_id, type, amount, description, transaction_date)\n            VALUES (%s, %s, %s, %s, %s, %s, %s)\n            ON CONFLICT (id) DO NOTHING\n        \"\"\", (\n            expense.get('id'),\n            expense.get('user_id', 'default_user_id'),\n            expense.get('category_id'),\n            expense.get('type'),\n            expense.get('amount'),\n            expense.get('description'),\n            expense.get('date')\n        ))\n    \n    conn.commit()\n    cur.close()\n    conn.close()\n    print(f\"Migrated {len(expenses)} transactions\")"
    },
    {
        "index": 21,
        "content": "# 1. Clone repository\ngit clone https://github.com/yourorg/expense-tracker-pro.git\ncd expense-tracker-pro\n\n# 2. Configure environment\ncp .env.example .env\n# Edit .env with your secrets\n\n# 3. Build and run\ndocker-compose -f docker-compose.prod.yml up -d --build\n\n# 4. Database migrations\ndocker-compose exec backend npm run migrate\n\n# 5. Verify deployment\ncurl http://localhost:3000/api/health\n\n# 6. SSL with Let's Encrypt\ndocker-compose -f docker-compose.prod.yml -f docker-compose.ssl.yml up -d"
    },
    {
        "index": 22,
        "content": "# Sign the app\n./gradlew assembleRelease\n\n# Upload to Google Play\n# Use Google Play Console or Fastlane\nfastlane supply --aab app/build/outputs/bundle/release/app-release.aab"
    },
    {
        "index": 23,
        "content": "// backend/middleware/logger.js\nconst winston = require('winston');\nconst { createLogger, format, transports } = winston;\n\nconst logger = createLogger({\n    level: 'info',\n    format: format.combine(\n        format.timestamp(),\n        format.errors({ stack: true }),\n        format.json()\n    ),\n    transports: [\n        new transports.File({ filename: 'logs/error.log', level: 'error' }),\n        new transports.File({ filename: 'logs/combined.log' }),\n        new transports.Console({\n            format: format.combine(format.colorize(), format.simple())\n        })\n    ]\n});\n\n// Log API requests\nexports.requestLogger = (req, res, next) => {\n    const start = Date.now();\n    res.on('finish', () => {\n        const duration = Date.now() - start;\n        logger.info({\n            method: req.method,\n            url: req.originalUrl,\n            status: res.statusCode,\n            duration: `${duration}ms`,\n            user: req.user?.id\n        });\n    });\n    next();\n};"
    },
    {
        "index": 24,
        "content": "<!-- design-system.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>AI Expense Tracker Pro - Design System</title>\n    <style>\n        :root {\n            --primary: #6366f1; --primary-hover: #4f46e5; --secondary: #10b981; --danger: #ef4444; --warning: #f59e0b; --dark: #1f2937; --light: #f9fafb; --text: #111827; --text-secondary: #6b7280; --border: #e5e7eb;\n            --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n            --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;\n            --space-xs: 0.5rem; --space-sm: 0.75rem; --space-md: 1rem; --space-lg: 1.5rem; --space-xl: 2rem; --space-2xl: 3rem;\n            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05); --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1); --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n            --radius-sm: 0.375rem; --radius-md: 0.5rem; --radius-lg: 0.75rem;\n            --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { font-family: var(--font-sans); color: var(--text); background: var(--light); line-height: 1.6; }\n        .btn { display: inline-flex; align-items: center; justify-content: center; padding: var(--space-sm) var(--space-md); border: none; border-radius: var(--radius-md); font-weight: 500; cursor: pointer; transition: var(--transition); font-size: 0.875rem; }\n        .btn-primary { background: var(--primary); color: white; }\n        .btn-primary:hover { background: var(--primary-hover); transform: translateY(-1px); box-shadow: var(--shadow-md); }\n        .btn-outline { background: white; border: 1px solid var(--border); color: var(--text); }\n        .btn-outline:hover { background: var(--light); }\n        .card { background: white; border-radius: var(--radius-lg); padding: var(--space-xl); box-shadow: var(--shadow-md); border: 1px solid var(--border); }\n        .input { width: 100%; padding: var(--space-sm) var(--space-md); border: 1px solid var(--border); border-radius: var(--radius-md); font-size: 0.875rem; transition: var(--transition); }\n        .input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1); }\n        .badge { display: inline-flex; align-items: center; padding: 0.25rem 0.5rem; border-radius: var(--radius-sm); font-size: 0.75rem; font-weight: 600; }\n        .badge-danger { background: rgba(239, 68, 68, 0.1); color: var(--danger); }\n        .badge-success { background: rgba(16, 185, 129, 0.1); color: var(--secondary); }\n        .container { max-width: 1200px; margin: 0 auto; padding: 0 var(--space-lg); }\n        .grid { display: grid; gap: var(--space-lg); }\n        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }\n        .flex { display: flex; align-items: center; gap: var(--space-md); }\n        .flex-between { justify-content: space-between; }\n        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\n        .animate-slide-up { animation: slideUp 0.3s ease-out; }\n        @media (max-width: 768px) { .container { padding: 0 var(--space-md); } .card { padding: var(--space-lg); } }\n    </style>\n</head>\n<body>\n    <div class=\"container\" style=\"padding-top: 2rem;\">\n        <h1>Design System</h1>\n        <div class=\"grid grid-3\">\n            <div class=\"card\"><h3>Colors</h3><div class=\"flex\"><div style=\"width:60px;height:60px;background:var(--primary);\"></div><div style=\"width:60px;height:60px;background:var(--secondary);\"></div><div style=\"width:60px;height:60px;background:var(--danger);\"></div></div></div>\n            <div class=\"card\"><h3>Buttons</h3><div class=\"flex\" style=\"flex-direction:column;\"><button class=\"btn btn-primary\">Primary</button><button class=\"btn btn-outline\">Outline</button></div></div>\n            <div class=\"card\"><h3>Forms</h3><input class=\"input\" placeholder=\"Text...\"><select class=\"input\"><option>Option</option></select></div>\n        </div>\n    </div>\n</body>\n</html>"
    },
    {
        "index": 25,
        "content": "<!-- dashboard.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Dashboard - AI Expense Tracker Pro</title>\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n    <style>\n        @import url('design-system.html');\n        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }\n        .app-header { background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; box-shadow: var(--shadow-sm); }\n        .nav { display: flex; justify-content: space-between; align-items: center; padding: var(--space-lg) 0; }\n        .nav-links { display: flex; gap: var(--space-xl); list-style: none; }\n        .nav-links a { color: var(--text); text-decoration: none; font-weight: 500; padding: var(--space-sm) var(--space-md); border-radius: var(--radius-md); }\n        .nav-links a.active { background: var(--primary); color: white; }\n        .summary-cards { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }\n        .summary-card { background: white; padding: var(--space-xl); border-radius: var(--radius-lg); border-left: 4px solid var(--border); }\n        .summary-card.income { border-left-color: #10b981; }\n        .summary-card.expenses { border-left-color: #ef4444; }\n        .amount { font-size: 2rem; font-weight: 700; }\n        .filters-panel { background: white; padding: var(--space-xl); border-radius: var(--radius-lg); }\n        .chart-container { background: white; padding: var(--space-xl); border-radius: var(--radius-lg); height: 400px; }\n        .ai-insights { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: var(--space-xl); border-radius: var(--radius-lg); }\n        .insight-card { background: rgba(255,255,255,0.1); padding: var(--space-lg); border-radius: var(--radius-md); }\n        .progress-bar { width: 100%; height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; }\n        .progress-fill { height: 100%; transition: width 0.3s ease; }\n        .progress-fill.danger { background: var(--danger); }\n    </style>\n</head>\n<body>\n    <header class=\"app-header\"><nav class=\"container nav\"><div>ðŸ’° AI Finance Pro</div><ul class=\"nav-links\"><li><a class=\"active\">Dashboard</a></li><li><a>Transactions</a></li></ul></nav></header>\n    <main class=\"container\">\n        <div class=\"filters-panel\"><h3>Filters</h3><div class=\"flex\"><input type=\"date\" class=\"input\"><select class=\"input\" multiple><option>Groceries</option></select><button class=\"btn btn-primary\">Apply</button></div></div>\n        <div class=\"grid summary-cards\">\n            <div class=\"summary-card income\"><h4>Income</h4><div class=\"amount\" style=\"color:#10b981;\">$0.00</div></div>\n            <div class=\"summary-card expenses\"><h4>Expenses</h4><div class=\"amount\" style=\"color:#ef4444;\">$13,050.00</div></div>\n        </div>\n        <div class=\"grid\" style=\"grid-template-columns:2fr 1fr;\"><div class=\"chart-container\"><canvas id=\"trendChart\"></canvas></div><div class=\"chart-container\"><canvas id=\"categoryChart\"></canvas></div></div>\n        <div class=\"ai-insights\"><h3>AI Insights</h3><div class=\"insight-card\"><h4>Alert</h4><p>Spent $13,050 on Groceries (100% of total).</p></div></div>\n    </main>\n    <script>\n        new Chart(document.getElementById('trendChart'), { type: 'line', data: { labels: ['Dec','Jan'], datasets:[{ label:'Expenses', data:[0,13050], borderColor:'#ef4444' }] } });\n        new Chart(document.getElementById('categoryChart'), { type: 'doughnut', data: { labels: ['Groceries'], datasets:[{ data:[13050], backgroundColor:['#ef4444'] }] } });\n    </script>\n</body>\n</html>"
    },
    {
        "index": 26,
        "content": "<!-- transactions.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Add Transaction - AI Expense Tracker Pro</title>\n    <style>\n        @import url('design-system.html');\n        .tabs { display: flex; background: white; padding: var(--space-xs); }\n        .tab { flex: 1; padding: var(--space-md); text-align: center; cursor: pointer; }\n        .tab.active { background: var(--primary); color: white; }\n        .form-container { max-width: 600px; margin: 0 auto; }\n        .upload-zone { border: 2px dashed var(--border); padding: var(--space-2xl); text-align: center; cursor: pointer; }\n        .voice-button { width: 120px; height: 120px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; margin: 0 auto; }\n        .transaction-item { background: white; padding: var(--space-lg); border: 1px solid var(--border); }\n    </style>\n</head>\n<body>\n    <header class=\"app-header\"><nav class=\"container nav\"><div>ðŸ’° AI Finance Pro</div></nav></header>\n    <main class=\"container\">\n        <div class=\"tabs\"><div class=\"tab active\">Manual</div><div class=\"tab\">Scan</div><div class=\"tab\">Voice</div></div>\n        <div class=\"form-container\">\n            <div class=\"card\"><form><div class=\"flex\"><input type=\"radio\" name=\"type\" checked> Expense</div><select class=\"input\"><option>Groceries</option></select><input type=\"number\" class=\"input\" placeholder=\"0.00\"><button class=\"btn btn-primary\">Save</button></form></div>\n        </div>\n        <div style=\"margin-top:2rem;\"><h3>Recent</h3><div class=\"transaction-item\"><div class=\"flex-between\"><span>Groceries</span><span style=\"color:#ef4444;\">-$13,050.00</span></div></div></div>\n    </main>\n</body>\n</html>"
    },
    {
        "index": 27,
        "content": "<!-- budgets.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Budgets - AI Expense Tracker Pro</title>\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n    <style>\n        @import url('design-system.html');\n        .budget-card { background: white; padding: var(--space-xl); border: 1px solid var(--border); }\n        .actual.over { color: var(--danger); }\n        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; }\n        .modal.show { display: flex; }\n        .modal-content { background: white; padding: var(--space-xl); width: 90%; max-width: 500px; }\n    </style>\n</head>\n<body>\n    <header class=\"app-header\"><nav class=\"container nav\"><div>ðŸ’° AI Finance Pro</div><ul class=\"nav-links\"><li><a>Dashboard</a></li><li><a class=\"active\">Budgets</a></li></ul></nav></header>\n    <main class=\"container\">\n        <div class=\"flex-between\"><h1>Budgets</h1><button class=\"btn btn-primary\">+ Add</button></div>\n        <div class=\"grid grid-3\"><div class=\"budget-card\"><h4>Groceries</h4><div>Budget: $0.00</div><div class=\"actual over\">$13,050.00</div><div class=\"progress-bar\"><div class=\"progress-fill danger\" style=\"width:100%;\"></div></div></div></div>\n        <div class=\"card\" style=\"margin-top:2rem;\"><canvas id=\"budgetChart\"></canvas></div>\n    </main>\n    <script>\n        new Chart(document.getElementById('budgetChart'), { type: 'bar', data: { labels: ['Groceries'], datasets:[{ label:'Budget', data:[0] },{ label:'Actual', data:[13050], backgroundColor:'#ef4444' }] } });\n    </script>\n</body>\n</html>"
    },
    {
        "index": 28,
        "content": "<!-- investments.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Investments - AI Expense Tracker Pro</title>\n    <style>\n        @import url('design-system.html');\n        .summary-box { background: white; padding: var(--space-xl); border: 1px solid var(--border); text-align: center; }\n        .investment-card { background: white; padding: var(--space-xl); border: 1px solid var(--border); }\n        .change.positive { color: var(--secondary); }\n    </style>\n</head>\n<body>\n    <header class=\"app-header\"><nav class=\"container nav\"><div>ðŸ’° AI Finance Pro</div></nav></header>\n    <main class=\"container\">\n        <div class=\"flex-between\"><h1>Investments</h1><button class=\"btn btn-primary\">+ Add</button></div>\n        <div class=\"grid grid-3\"><div class=\"summary-box\"><h4>Total</h4><div class=\"value\">$0.00</div></div></div>\n        <div class=\"card\" style=\"text-align:center;\"><h3>No Investments Yet</h3><button class=\"btn btn-primary\">Get Started</button></div>\n    </main>\n</body>\n</html>"
    },
    {
        "index": 29,
        "content": "<!-- settings.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Settings - AI Expense Tracker Pro</title>\n    <style>\n        @import url('design-system.html');\n        .settings-sidebar { display: grid; grid-template-columns: 250px 1fr; gap: var(--space-xl); }\n        .sidebar-nav { background: white; padding: var(--space-md); position: sticky; top: 100px; }\n        .sidebar-item { padding: var(--space-md); cursor: pointer; }\n        .sidebar-item.active { background: var(--primary); color: white; }\n        .settings-content { background: white; padding: var(--space-xl); }\n        .setting-item { display: flex; justify-content: space-between; padding: var(--space-md) 0; border-bottom: 1px solid var(--border); }\n        .toggle { width: 50px; height: 24px; background: var(--border); border-radius: 12px; cursor: pointer; }\n    </style>\n</head>\n<body>\n    <header class=\"app-header\"><nav class=\"container nav\"><div>ðŸ’° AI Finance Pro</div><ul class=\"nav-links\"><li><a class=\"active\">Settings</a></li></ul></nav></header>\n    <main class=\"container\">\n        <div class=\"settings-sidebar\">\n            <nav class=\"sidebar-nav\"><div class=\"sidebar-item active\">General</div><div class=\"sidebar-item\">Currency</div></nav>\n            <div class=\"settings-content\"><div class=\"setting-item\"><h4>Dark Mode</h4><div class=\"toggle\"></div></div></div>\n        </div>\n    </main>\n</body>\n</html>"
    }
]